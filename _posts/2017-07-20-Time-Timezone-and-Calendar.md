---
layout: post
title:  "Time Timezone and Calendar"
date:   2017-07-20 16:36:18 +0800
categories: note
---

![Time](/images/time.png "time")

## 概念

时间是一种尺度，物理学定义是标量。借着时间，事件发生之先后可以按过去-现在-未来之序列得以确定（时间点），也可以衡量事件持续的期间以及事件之间之间隔长短（时间段）——来自Wiki百科。


在地球，人们的时间是参考太阳的位置来定义的。为了方便，同一个区域的人规定同样的时刻。这个区域就是时区。也是为了方便交流与统一，还需要规定一个“时间基准”，例如协调世界时（UTC）。在计算机应用中则有类似的Unix时间。


地球自转一圈为一天，月球绕地球一圈为一月，地球绕太阳一圈为一年。这些旋转均对人类的生活产生重大影响，人们便用日历纪录这周而复始的变化。


一个有趣的事情：2038年1月19日3时14分07秒，32位系统的UNIX时间将会被重置。而64位系统可以表示到292,277,026,596年。在座用64位系统的各位生前均不用担心。:)




### 牛顿的时间

![Newton](/images/newton.png "Newton")

1687年，在英国出版了一部对其后科学家的时间观和空间观都产生了重大影响的科学著作，这就是艾萨克·牛顿（1642－1727）所写的《自然哲学的数学原理》（简称《原理》）。

牛顿这部里程碑式的著作中阐明了一切物质——从地上的炮弹到天空的行星——的运动规律。

牛顿在他的书中坚持的是一种“绝对时间”和“绝对空间”的概念

牛顿所说的“绝对时间”，指的是一种“不受任何影响，在任何场所都总是以同样速度流动的时间”。

简单说来就是，假如在宇宙的某处有一个时钟的话，无论把它移动到何处，它的走时速度都总是保持完全一致。

### 生活中的时间

![Greenwich-time](/images/greenwich-time.png "Greenwich-time")

我们常说这个表不准，或是那个钟不准，表示在我们的现实生活中，时间有一个绝对的参考标准


### Unix时间

从协调世界时1970年1月1日0时0分0秒起至现在的总秒数，不考虑闰秒

UTC：UTC基于国际原子时，并通过不规则的加入闰秒来抵消地球自转变慢的影响

为什么计算机的计时是从1970年1月1日00:00:00开始的呢？
    
以前的Unix计算机中存储时间，是以32位来存储的。因为用32位来表示时间的最大间隔是68年，而最早出现的UNIX操作系统考虑到计算机产生的年代和应用的时限综合取了1970年1月1日作为UNIX TIME的纪元时间(开始时间)，将1970年作为中间点，向左向右偏移都可以照顾到更早或者更后的时间，因此将1970年1月1日0点作为计算机表示时间的原点，从1970年1月1日开始经过的秒数存储为一个32位整数。以后计算时间就把这个时间（1970年1月1日00:00:00）当做时间的零点。这种高效简洁的时间表示法，就被称为"Unix时间纪元"。

## 时间引发的bug

![Bug](/images/bug.png "Bug")
 
### 千年虫

由Bob Bemer在1958年第一次提出的，年份只使用两位十进制数来表示

### 宰赫兰导弹事件

![Time-bug](/images/time-bug.png "Time-bug")

在1991年2月的第一次海湾战争中，一枚伊拉克发射的飞毛腿导弹准确击中美国在沙地阿拉伯的宰赫兰基地，当场炸死28个美国士兵，炸伤100多人，造成美军海湾战争中唯一一次伤亡超过百人的损失。

每工作一个小时，系统内的时钟会有一个微小的毫秒级延迟，这就是这个失效悲剧的根源。在工作了100小时后，系统时间的延迟是三分之一秒。这个”微不足道的”0.33秒相当于大约600米的误差。

### 手机变砖

Unix负时间导致部分iPhone手机无法启动[编辑]

在2016年2月12日，据披露，如果把苹果iPhone、iPad等设备的系统时间设置为1970年1月1日，随后重启设备，它会直接变砖。目前苹果公司正式承认了漏洞存在，但是尚未公布具体的引发原因。[2]部分中国大陆用户猜想这是因为调整当地时间到1970.1.1 0:00后，如果时区为正，那么GMT时间就早于unix定义的0时间。例如北京时间 1970.1.1 0:00 (UTC+0800) 是UTC 1969.12.31 16:00 对应的unix时间是负的。但是有人回应尝试设为正时区重启后仍然变砖。[3]苹果对此采用的策略是在随后的固件更新中将时间禁止调整到2000年以前。


### 2038年问题

2038年1月19日3时14分07秒，32位系统的UNIX时间将会被重置



### 科学人杂志

![Drop-in-time](/images/drop-in-time.png "Drop-in-time")

你在讀著這個句子時，很可能會想著「這一刻」（就是現在），也就是正在發生的「當下」。此時此刻似乎很獨特、很真實。不管你對過去有多少記憶、對未來如何憧憬，你都活在當下。當然，你閱讀剛剛那句話的那一刻已經不再，這句才是當下。換句話說，時間似乎在流動，亦即「當下」也在不斷更新。在我們直覺的深處，未來是開放的，直到它成為現在，而過去已被固定住了。時間流動時，這種過去固定、現在發生、未來開放的結構不斷在時間中前進。這種結構深植於我們的語言、思考和行為中，我們的一生該怎麼過正懸於此。--[科学人杂志](http://sa.ylib.com/MagArticle.aspx?Unit=featurearticles&id=1613)

### 时光如何不飞逝？

从古到今，有不少哲学家在仔细斟酌了一般人所认知的时间流动之后，也获得同样的结论。他们认为这个概念有内在矛盾：毕竟，流动这观念所指涉的是运动，所以谈论真实物体的运动是合理的。如果我们拿物体实际运动的例子来解释就会更加明白了，例如飞箭穿越过空间时，我们便可测量飞箭的位置如何随时间变化；但我们能对时间本身的运动赋予什么意义呢？它是相对于什么在动呢？其他类型的运动会将不同的物理过程连接起来，但设想中的时间流只是让时间与自身发生关联。我们只要简单一问：「时间流得有多快？」就可以暴露出这想法的荒谬，因为「每秒流过一秒」这个浅显的答案一点意义也没有。

### 时间的不对称性

在讨论时间流动的时候，我们之所以会这么困惑，主要原因是因为它与所谓的「时间之箭」有所关联。否认时间流动并不等于说「过去」与「未来」的指称没有物理基础。无可否认的，世界上发生的事件只有单向的顺序。例如，蛋掉到地上会破成碎片，而反向过程——地上一颗破蛋自动组合成完整的蛋——则从来没有见过。这是热力学第二定律的例子，意思是说，一个封闭系统的熵（大致上而言，熵就是失序的程度）会随着时间而增加。比起一颗破蛋来说，一颗完整的蛋的熵值要更低。

### 活在当下

当然，我们还是得解释为什么会有时间流动的幻觉，不过这些解释得从心理学、神经生理学，或是语言学与文化里去寻找。对于我们如何感受时间流动这个问题，近代科学才刚刚开始思考，所以我们仅能猜测什么是答案。这或许跟大脑的功能有关。如果你原地旋转几圈后突然停止，就会感觉头昏眼花。主观上，你会感到世界绕着你旋转，但是你的眼睛告诉你其实不是这样的。你周围的转动是幻象，那只是因为内耳中的液体在旋转。也许时间流动的感觉也来自类似的原因。

### 重力为什么会影响时间？在黑洞里时间会停止吗？

我们常说这个表不准，或是那个钟不准，表示在我们的现实生活中，时间有一个绝对的参考标准，这个标准通常可以用原子钟来规范。在传统的物理中，时间的快慢也只有一个标准，和重力的大小扯不上关系，然而在爱因斯坦于20世纪初提出「相对论」后，一切都改观了。

广义相对论的主要内涵可以用「爱因斯坦方程式」来表述，就像牛顿第二运动定律可以用F＝ma来表述一样。牛顿的式子中，用等号（＝）连结了「力」（F）和「加速度」（a）这两个物理观念，然而爱因斯坦方程式则是用等号连结了「时空的结构」和「空间中能量的分布」两个物理观念，也就是：

时空的结构＝空间中能量的分布

爱因斯坦把传统物理中的「重力」概念解释成一种「时空结构扭曲」的自然现象，而这个扭曲程度的大小（也就是重力表现的大小；即上式的左手边），则由空间中能量「不均匀」分布的程度（即上式的右手边）来决定。能量越是不均匀分布，则时空结构就越扭曲，其所表现出来的重力现象也就越大，同时这个「时、空」扭曲也会让时间的流逝变慢。所以用物理的因果逻辑来解释，严格而言并不能说是「重力影响了时间流逝的快慢」，而是说「空间中由于能量的不均匀分布（例如脚下的地球就是极大质量聚集在一起的表征），造成了时空结构的扭曲，而这个扭曲所表现出来的，一个是重力的产生（例如地球的重力），另一个则是时间流逝的变慢」。时空扭曲越厉害的地方，不但表现出来的重力越大，其时间的流逝也越慢！

了解这点以后，我们就可以用上面的式子来解释黑洞。黑洞其实就是能量分布极度不均匀（集中在其中心）所造成的一个物理现象，根据上式，它会造成时空结构的极度扭曲，让其附近的光的路径都扭曲指向黑洞的中心，致使光子无论如何都无法逃离，而形成「黑」洞。如之前所说，这个时空扭曲也会让时间的流逝变慢，然而这所谓的「变慢」，是对极远处一个不受重力的观测者而言。

试想，站在一个离黑洞很远的地方观察一艘太空船驶入黑洞中，观测者会看到太空船在接近黑洞边缘（称为事件视界）的同时，其中的太空人动作会无止尽地慢下来，太空船内所挂的钟也会无止尽地慢下来而趋完全静止，那是因为太空船受到极大的时空扭曲，致使它的时间流逝比身处无时空扭曲之观测者的时间为慢。如果太空船到达黑洞边缘的话，则观测者会看到它的时间完全静止。反观就太空船里的人而言，在太空船渐渐接近黑洞时，他会发现外面远处的观测者动作渐渐变快，就像是录影带影片的快转播放一般。因此太空人并不自觉时间变慢，而是远处的观察者看到他的时间变慢。所以这个太空人如果自觉花了一星期绕行黑洞外围一圈，而且很幸运地没被它吞噬，那么等他再回到远处的观测者处时，有可能会发现观测者所在地的时间实际上已经过了一亿年！

总而言之，当我们感受到有越「大」重力存在的地方，表示该处的时空结构扭曲就越厉害，其时间也就过得越「慢」。举一反三，十层楼房中的一楼，与地心的距离比顶楼近，所以重力较大，因此时间也就过得比顶楼慢。所以你如果要活得比别人久，记得要住一楼不要住顶楼，因为一楼的时间过得比较慢！至于一辈子住下来可以多活多久，依据爱因斯坦的广义相对论来推估，你可以多活一微秒！

### 时间是怎么来的？GMT时间和UTC时间是什么以及两者有什么关系？为什么UTC时间最准确？
    
GMT时间，即格林尼治标准时间。以前都是将此时间当做世界标准时间，划分了24个时区，每个时区都以格林尼治标准时间（0时区时间）为准进行校准。 理论上来说，格林尼治标准时间的正午是指当太阳横穿格林尼治子午线时的时间。由于地球在它的椭圆轨道里的运动速度不均匀，这个时刻可能和实际的太阳时相差16分钟。 地球每天的自转是有些不规则的，而且正在缓慢减速。所以，格林尼治时间已经不再被作为标准时间使用。现在的世界标准时间称为UTC时间。UTC时间由原子钟提供。因为原子钟的频率都是稳定的，不会像天体运行一样会有不匀速的运转导致时间偏差问题，所以是最准确的时间。
    
但是，我们时间的计算由来还是由天体计算得来的，并不是计算机计算得来的。真正基准时间还是要参考GMT时间。 自1924年2月5日开始，格林尼治天文台每隔一小时会向全世界发放调时信息。而UTC是基于标准的GMT提供的准确时间。这就是说，UTC时间每个小时会根据GMT时间进行校准。原子钟时用来产生稳定的频率的时间计时，从GMT时间的基础上提供可用的每时每刻的准确时间。所以世界标准时间就采用了UTC时间。计算机只是辅助获得准确时间，存储准确时间供全世界的计算机校对使用的。即使什么时候全世界停电N个小时，再恢复电源，从GMT天文时间得到基准时间，再使用原子钟计时，还是会得到准确的时间。我们一直在误解。计算机只是给我们提供了最准确的时间罢了，计算机不是产生根本时间的源头，最根本的源头在天文里。
